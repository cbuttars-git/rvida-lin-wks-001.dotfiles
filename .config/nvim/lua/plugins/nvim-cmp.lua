--[[
                             ███                                                                   ████                      
                            ░░░                                                                   ░░███                      
     ████████   █████ █████ ████  █████████████               ██████  █████████████   ████████     ░███  █████ ████  ██████  
    ░░███░░███ ░░███ ░░███ ░░███ ░░███░░███░░███  ██████████ ███░░███░░███░░███░░███ ░░███░░███    ░███ ░░███ ░███  ░░░░░███ 
     ░███ ░███  ░███  ░███  ░███  ░███ ░███ ░███ ░░░░░░░░░░ ░███ ░░░  ░███ ░███ ░███  ░███ ░███    ░███  ░███ ░███   ███████ 
     ░███ ░███  ░░███ ███   ░███  ░███ ░███ ░███            ░███  ███ ░███ ░███ ░███  ░███ ░███    ░███  ░███ ░███  ███░░███ 
     ████ █████  ░░█████    █████ █████░███ █████           ░░██████  █████░███ █████ ░███████  ██ █████ ░░████████░░████████
    ░░░░ ░░░░░    ░░░░░    ░░░░░ ░░░░░ ░░░ ░░░░░             ░░░░░░  ░░░░░ ░░░ ░░░░░  ░███░░░  ░░ ░░░░░   ░░░░░░░░  ░░░░░░░░ 
                                                                                      ░███                                   
                                                                                      █████                                  
                                                                                     ░░░░░                                   
--]]

local returnValue = {
  "hrsh7th/nvim-cmp",
  opts = function(_, opts)
    local cmp = require("cmp")
    opts.mapping = vim.tbl_extend("force", opts.mapping, {
      ["<esc>"] = cmp.mapping(function(fallback)
        if cmp.visible() then
          cmp.abort()
        else
          fallback()
        end
      end, { "i", "c" }),
    })
  end,
}

return returnValue
